# HLS_convert_loader_BB

Проект создан совместно пользователем [ilya-88](https://github.com/ilya-88) и ChatGPT (OpenAI) для конвертации видео в HLS и загрузки на Backblaze B2.

## Описание проекта
Проект HLS_convert_loader_BB позволяет конвертировать видеофайлы в формат HLS с различными уровнями качества и загружать их на Backblaze B2. Для каждого запуска конвертации создается уникальная структура папок, содержащая файлы для заданных уровней качества и мастер-плейлист.

## Содержание файлов

### main.py
Главный файл программы, отвечающий за интерфейс пользователя и запуск основных функций.

**Основные компоненты:**
- Запускает графический интерфейс программы.
- Обрабатывает выбор видеофайлов, уровней качества и данных авторизации.
- Инициализирует процесс конвертации и загрузки, отображает ссылки на мастер-плейлист после успешного завершения.



### hls_converter.py
Файл, содержащий функции для конвертации видеофайлов в HLS-формат.

**Функции:**
- `convert_to_hls(input_file, qualities)`: Конвертирует видео в HLS с заданными уровнями качества. Создает уникальную папку для каждого запуска, а также папки для каждого уровня качества. Формирует мастер-плейлист `master.m3u8`, содержащий ссылки на плейлисты всех уровней качества.

### uploader.py
Файл для загрузки сконвертированных HLS-файлов на Backblaze B2.

**Функции:**
- `upload_to_backblaze(unique_folder_path, bucket_name, application_key_id, application_key, file_server, region)`: Загружает уникальную папку HLS на Backblaze, сохраняя структуру папок, и возвращает ссылки на файл `master.m3u8`. Функция пытается загрузить файл до пяти раз в случае прерывания соединения.

### video_selector.py
Файл для выбора и анализа видеофайлов.

**Функции:**
- `select_video_file()`: Открывает окно для выбора видеофайла и возвращает путь к выбранному файлу.
- `get_video_quality(input_file)`: Определяет разрешение видеофайла, возвращая его ширину и высоту.

### quality_selection.py
Файл, реализующий интерфейс для выбора качества видео.

**Функции:**
- `QualitySelectionWindow`: Окно выбора доступных уровней качества для конвертации. В зависимости от исходного качества видео автоматически отмечает все доступные уровни качества.

### main_window_interface.py
Файл с реализацией основного окна интерфейса программы.

**Основные компоненты:**
- Основное окно с элементами для ввода данных авторизации, выбора видеофайлов и качеств для конвертации.
- Кнопки для запуска процесса конвертации и загрузки на Backblaze B2.
- Обработка пользовательского ввода и отображение статуса работы.


## Использование

1. Запустите `main.py`, чтобы открыть интерфейс.
2. Введите данные авторизации для Backblaze B2 и сохраните их.
3. Укажите путь к видеофайлу и выберите уровни качества для конвертации.
4. После конвертации программа загрузит файлы на Backblaze B2 и предоставит ссылки на мастер-плейлист.
